0x60806040526004361061012e5760003560e01c80639cb609ca116100ab578063d21d122d1161006f578063d21d122d146103b5578063d2d0e967146103d5578063e3f236cb146103f5578063f5b22c2a14610415578063f82f604314610435578063fa461e331461045557600080fd5b80639cb609ca146102aa578063a06bc150146102ca578063b4294ab7146102ea578063b7d4e27a1461030a578063c0818f171461039557600080fd5b8063434ffed8116100f2578063434ffed81461020a5780634e2a27ed1461022a578063527e797c1461024a5780636cf3321c1461026a5780639a9dfe9e1461028a57600080fd5b80630232d2bc1461013a57806323c0c09f146101885780632b81bc87146101aa5780633a904098146101ca5780633b7d0946146101ea57600080fd5b3661013557005b600080fd5b34801561014657600080fd5b50610173610155366004612088565b6001600160a01b031660009081526002602052604090205460ff1690565b60405190151581526020015b60405180910390f35b34801561019457600080fd5b506101a86101a33660046120b3565b610475565b005b3480156101b657600080fd5b506101a86101c53660046120ec565b6104d3565b3480156101d657600080fd5b506101a86101e5366004612171565b61076e565b3480156101f657600080fd5b506101a8610205366004612088565b610863565b34801561021657600080fd5b506101a861022536600461219d565b6108c2565b34801561023657600080fd5b506101a86102453660046120b3565b610964565b34801561025657600080fd5b506101a86102653660046121b6565b6109b9565b34801561027657600080fd5b506101a861028536600461219d565b610c25565b34801561029657600080fd5b506101a86102a5366004612249565b610cc2565b3480156102b657600080fd5b506101a86102c5366004612088565b61100c565b3480156102d657600080fd5b506101a86102e5366004612274565b611187565b3480156102f657600080fd5b506101a8610305366004612299565b611436565b34801561031657600080fd5b5061036e610325366004612088565b604080518082018252600080825260209182018190526001600160a01b039384168152600482528290208251808401909352805484168352600101549092169181019190915290565b6040805182516001600160a01b03908116825260209384015116928101929092520161017f565b3480156103a157600080fd5b506101a86103b03660046120b3565b6115b0565b3480156103c157600080fd5b506101a86103d03660046122db565b611605565b3480156103e157600080fd5b506101736103f0366004612088565b611643565b34801561040157600080fd5b506101a86104103660046123fb565b611695565b34801561042157600080fd5b506101a8610430366004612438565b61186e565b34801561044157600080fd5b506101a8610450366004612454565b611b89565b34801561046157600080fd5b506101a8610470366004612521565b611c21565b6000546001600160a01b031633146104a85760405162461bcd60e51b815260040161049f906125a1565b60405180910390fd5b6001600160a01b03919091166000908152600260205260409020805460ff1916911515919091179055565b6001600160a01b038216600090815260036020526040902054829060ff1661050d5760405162461bcd60e51b815260040161049f906125bd565b3360009081526001602052604090205460ff1661053c5760405162461bcd60e51b815260040161049f906125da565b83428110156105725760405162461bcd60e51b8152602060048201526002602482015261746560f01b604482015260640161049f565b60008890506000806000836001600160a01b0316630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b1580156105b557600080fd5b505afa1580156105c9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105ed919061260d565b506001600160701b039182169350169050600061060c8f6103e5612668565b9050808b61061a578261061c565b835b610628906103e8612668565b6106329190612687565b8b61063d578361063f565b825b6106499083612668565b610653919061269f565b93508d84101561068a5760405162461bcd60e51b81526020600482015260026024820152611a1960f21b604482015260640161049f565b506106a29150506001600160a01b038a168b8e611d03565b816001600160a01b031663022c0d9f896106bc57826106bf565b60005b8a6106cb5760006106cd565b835b604080516000815260208101918290526001600160e01b031960e086901b169091526107009291908b9060248101612719565b600060405180830381600087803b15801561071a57600080fd5b505af115801561072e573d6000803e3d6000fd5b505060405141925087156108fc02915087906000818181858888f1935050505015801561075f573d6000803e3d6000fd5b50505050505050505050505050565b6000546001600160a01b031633146107985760405162461bcd60e51b815260040161049f906125a1565b6040516370a0823160e01b815230600482015281906001600160a01b038416906370a082319060240160206040518083038186803b1580156107d957600080fd5b505afa1580156107ed573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108119190612750565b10156108455760405162461bcd60e51b8152602060048201526003602482015262636e6560e81b604482015260640161049f565b60005461085f906001600160a01b03848116911683611d03565b5050565b6000546001600160a01b0316331461088d5760405162461bcd60e51b815260040161049f906125a1565b6001600160a01b0316600090815260046020526040902080546001600160a01b03199081168255600190910180549091169055565b6000546001600160a01b031633146108ec5760405162461bcd60e51b815260040161049f906125a1565b47818110156109265760405162461bcd60e51b815260040161049f9060208082526004908201526365636e6560e01b604082015260600190565b600080546040516001600160a01b039091169184156108fc02918591818181858888f1935050505015801561095f573d6000803e3d6000fd5b505050565b6000546001600160a01b0316331461098e5760405162461bcd60e51b815260040161049f906125a1565b6001600160a01b03919091166000908152600160205260409020805460ff1916911515919091179055565b6001600160a01b038116600090815260036020526040902054819060ff166109f35760405162461bcd60e51b815260040161049f906125bd565b3360009081526001602052604090205460ff16610a225760405162461bcd60e51b815260040161049f906125da565b8242811015610a585760405162461bcd60e51b8152602060048201526002602482015261746560f01b604482015260640161049f565b60008790506000806000836001600160a01b0316630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b158015610a9b57600080fd5b505afa158015610aaf573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ad3919061260d565b506001600160701b0391821693501690506000610af28e6103e5612668565b9050808a610b005782610b02565b835b610b0e906103e8612668565b610b189190612687565b8a610b235783610b25565b825b610b2f9083612668565b610b39919061269f565b93508c841015610b705760405162461bcd60e51b81526020600482015260026024820152611a1960f21b604482015260640161049f565b50610b889150506001600160a01b0389168a8d611d03565b816001600160a01b031663022c0d9f88610ba25782610ba5565b60005b89610bb1576000610bb3565b835b604080516000815260208101918290526001600160e01b031960e086901b16909152610be69291908a9060248101612719565b600060405180830381600087803b158015610c0057600080fd5b505af1158015610c14573d6000803e3d6000fd5b505050505050505050505050505050565b3360009081526002602052604090205460ff1615610cbf5780471015610c4a57600080fd5b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031663d0e30db0826040518263ffffffff1660e01b81526004016000604051808303818588803b158015610ca557600080fd5b505af1158015610cb9573d6000803e3d6000fd5b50505050505b50565b3360009081526001602052604090205460ff16610cf15760405162461bcd60e51b815260040161049f906125da565b610cfe6020830183612088565b6001600160a01b0381811660009081526004602052604090205416610d4e5760405162461bcd60e51b81526020600482015260066024820152651b1b5d9c1a5960d21b604482015260640161049f565b610d5e60c0840160a08501612088565b6001600160a01b03811660009081526003602052604090205460ff16610d965760405162461bcd60e51b815260040161049f906125bd565b600080610da66020870187612088565b60408051600481526024810182526020810180516001600160e01b0316633850c7bd60e01b17905290516001600160a01b039290921691610de79190612769565b600060405180830381855afa9150503d8060008114610e22576040519150601f19603f3d011682016040523d82523d6000602084013e610e27565b606091505b5091509150818015610e3b57506020815110155b610e4457600080fd5b6020810151610e5960a0880160808901612785565b610e8757610e6d6060880160408901612088565b6001600160a01b0316816001600160a01b03161115610ead565b610e976060880160408901612088565b6001600160a01b0316816001600160a01b031610155b610edf5760405162461bcd60e51b815260206004820152600360248201526234323160e91b604482015260640161049f565b610eec6020880188612088565b6001600160a01b0316630251596160e31b610f0d60c08a0160a08b01612088565b610f1d60a08b0160808c01612785565b60208b0135610f3260808d0160608e01612088565b604080516000815260208101909152610f529493929190604481016127a2565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b0319909416939093179092529051610f909190612769565b6000604051808303816000865af19150503d8060008114610fcd576040519150601f19603f3d011682016040523d82523d6000602084013e610fd2565b606091505b505060405141915087156108fc029088906000818181858888f19350505050158015611002573d6000803e3d6000fd5b5050505050505050565b6000546001600160a01b031633146110365760405162461bcd60e51b815260040161049f906125a1565b60008190506040518060400160405280826001600160a01b0316630dfe16816040518163ffffffff1660e01b815260040160206040518083038186803b15801561107f57600080fd5b505afa158015611093573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110b791906127dd565b6001600160a01b03168152602001826001600160a01b031663d21220a76040518163ffffffff1660e01b815260040160206040518083038186803b1580156110fe57600080fd5b505afa158015611112573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061113691906127dd565b6001600160a01b039081169091529283166000908152600460209081526040909120825181549086166001600160a01b03199182161782559290910151600190910180549190941691161790915550565b3360009081526002602052604090205460ff161561085f576001600160a01b038116600090815260036020526040902054819060ff166111d95760405162461bcd60e51b815260040161049f906125bd565b6040516370a0823160e01b81523060048201526000907f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b0316906370a082319060240160206040518083038186803b15801561123b57600080fd5b505afa15801561124f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112739190612750565b9050838110156112aa5760405162461bcd60e51b81526020600482015260026024820152616e6560f01b604482015260640161049f565b604051632e1a7d4d60e01b8152600481018590527f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b031690632e1a7d4d90602401600060405180830381600087803b15801561130c57600080fd5b505af1158015611320573d6000803e3d6000fd5b50506040516001600160a01b038616925086156108fc02915086906000818181858888f1935050505015801561135a573d6000803e3d6000fd5b506040516370a0823160e01b815230600482015284907f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b0316906370a082319060240160206040518083038186803b1580156113bc57600080fd5b505afa1580156113d0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113f49190612750565b6113fe90836127fa565b146114305760405162461bcd60e51b8152602060048201526002602482015261373b60f11b604482015260640161049f565b50505050565b3360009081526002602052604090205460ff161561095f576001600160a01b038116600090815260036020526040902054819060ff166114885760405162461bcd60e51b815260040161049f906125bd565b7f000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc26001600160a01b0316846001600160a01b031614156114f05760405162461bcd60e51b8152602060048201526003602482015262776e7360e81b604482015260640161049f565b6040516370a0823160e01b815230600482015283906001600160a01b038616906370a082319060240160206040518083038186803b15801561153157600080fd5b505afa158015611545573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115699190612750565b101561159c5760405162461bcd60e51b81526020600482015260026024820152616e6560f01b604482015260640161049f565b6114306001600160a01b0385168385611d03565b6000546001600160a01b031633146115da5760405162461bcd60e51b815260040161049f906125a1565b6001600160a01b03919091166000908152600360205260409020805460ff1916911515919091179055565b6000546001600160a01b0316331461162f5760405162461bcd60e51b815260040161049f906125a1565b61095f6001600160a01b0384168383611d66565b3360009081526001602052604081205460ff166116725760405162461bcd60e51b815260040161049f906125da565b506001600160a01b03811660009081526003602052604090205460ff165b919050565b6000546001600160a01b031633146116bf5760405162461bcd60e51b815260040161049f906125a1565b60005b815181101561085f5760008282815181106116df576116df612811565b602002602001015190506040518060400160405280826001600160a01b0316630dfe16816040518163ffffffff1660e01b815260040160206040518083038186803b15801561172d57600080fd5b505afa158015611741573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061176591906127dd565b6001600160a01b03168152602001826001600160a01b031663d21220a76040518163ffffffff1660e01b815260040160206040518083038186803b1580156117ac57600080fd5b505afa1580156117c0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117e491906127dd565b6001600160a01b03168152506004600085858151811061180657611806612811565b6020908102919091018101516001600160a01b039081168352828201939093526040909101600020835181546001600160a01b03199081169185169190911782559390910151600190910180549093169116179055508061186681612827565b9150506116c2565b3360009081526001602052604090205460ff1661189d5760405162461bcd60e51b815260040161049f906125da565b6118aa6020820182612088565b6001600160a01b03818116600090815260046020526040902054166118fa5760405162461bcd60e51b81526020600482015260066024820152651b1b5d9c1a5960d21b604482015260640161049f565b61190a60c0830160a08401612088565b6001600160a01b03811660009081526003602052604090205460ff166119425760405162461bcd60e51b815260040161049f906125bd565b6000806119526020860186612088565b60408051600481526024810182526020810180516001600160e01b0316633850c7bd60e01b17905290516001600160a01b0392909216916119939190612769565b600060405180830381855afa9150503d80600081146119ce576040519150601f19603f3d011682016040523d82523d6000602084013e6119d3565b606091505b50915091508180156119e757506020815110155b6119f057600080fd5b6020810151611a0560a0870160808801612785565b611a3357611a196060870160408801612088565b6001600160a01b0316816001600160a01b03161115611a59565b611a436060870160408801612088565b6001600160a01b0316816001600160a01b031610155b611a8b5760405162461bcd60e51b815260206004820152600360248201526234323160e91b604482015260640161049f565b611a986020870187612088565b6001600160a01b0316630251596160e31b611ab960c0890160a08a01612088565b611ac960a08a0160808b01612785565b60208a0135611ade60808c0160608d01612088565b604080516000815260208101909152611afe9493929190604481016127a2565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b0319909416939093179092529051611b3c9190612769565b6000604051808303816000865af19150503d8060008114611b79576040519150601f19603f3d011682016040523d82523d6000602084013e611b7e565b606091505b505050505050505050565b6000546001600160a01b03163314611bb35760405162461bcd60e51b815260040161049f906125a1565b60005b835181101561143057611c0f83838381518110611bd557611bd5612811565b6020026020010151868481518110611bef57611bef612811565b60200260200101516001600160a01b0316611d669092919063ffffffff16565b80611c1981612827565b915050611bb6565b6000841380611c305750600083135b611c615760405162461bcd60e51b815260206004820152600260248201526130bd60f11b604482015260640161049f565b60008085139081611c8d57336000908152600460205260409020600101546001600160a01b0316611ca7565b336000908152600460205260409020546001600160a01b03165b90506001600160a01b038116611ce55760405162461bcd60e51b815260206004820152600360248201526236b73b60e91b604482015260640161049f565b610cb93383611cf45786611cf6565b875b6001600160a01b03841691905b6040516001600160a01b03831660248201526044810182905261095f90849063a9059cbb60e01b906064015b60408051601f198184030181529190526020810180516001600160e01b03166001600160e01b031990931692909217909152611e27565b604051636eb1769f60e11b81523060048201526001600160a01b038381166024830152600091839186169063dd62ed3e9060440160206040518083038186803b158015611db257600080fd5b505afa158015611dc6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611dea9190612750565b611df49190612687565b6040516001600160a01b03851660248201526044810182905290915061143090859063095ea7b360e01b90606401611d2f565b6000611e7c826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316611ef99092919063ffffffff16565b80519091501561095f5780806020019051810190611e9a9190612842565b61095f5760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b606482015260840161049f565b6060611f088484600085611f12565b90505b9392505050565b606082471015611f735760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b606482015260840161049f565b843b611fc15760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604482015260640161049f565b600080866001600160a01b03168587604051611fdd9190612769565b60006040518083038185875af1925050503d806000811461201a576040519150601f19603f3d011682016040523d82523d6000602084013e61201f565b606091505b509150915061202f82828661203a565b979650505050505050565b60608315612049575081611f0b565b8251156120595782518084602001fd5b8160405162461bcd60e51b815260040161049f919061285f565b6001600160a01b0381168114610cbf57600080fd5b60006020828403121561209a57600080fd5b8135611f0b81612073565b8015158114610cbf57600080fd5b600080604083850312156120c657600080fd5b82356120d181612073565b915060208301356120e1816120a5565b809150509250929050565b600080600080600080600080610100898b03121561210957600080fd5b8835975060208901359650604089013561212281612073565b9550606089013561213281612073565b94506080890135612142816120a5565b935060a0890135925060c089013561215981612073565b8092505060e089013590509295985092959890939650565b6000806040838503121561218457600080fd5b823561218f81612073565b946020939093013593505050565b6000602082840312156121af57600080fd5b5035919050565b600080600080600080600060e0888a0312156121d157600080fd5b873596506020880135955060408801356121ea81612073565b945060608801356121fa81612073565b9350608088013561220a816120a5565b925060a0880135915060c088013561222181612073565b8091505092959891949750929550565b600060c0828403121561224357600080fd5b50919050565b60008060e0838503121561225c57600080fd5b6122668484612231565b9460c0939093013593505050565b6000806040838503121561228757600080fd5b8235915060208301356120e181612073565b6000806000606084860312156122ae57600080fd5b83356122b981612073565b92506020840135915060408401356122d081612073565b809150509250925092565b6000806000606084860312156122f057600080fd5b83356122fb81612073565b9250602084013561230b81612073565b929592945050506040919091013590565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561235b5761235b61231c565b604052919050565b600067ffffffffffffffff82111561237d5761237d61231c565b5060051b60200190565b600082601f83011261239857600080fd5b813560206123ad6123a883612363565b612332565b82815260059290921b840181019181810190868411156123cc57600080fd5b8286015b848110156123f05780356123e381612073565b83529183019183016123d0565b509695505050505050565b60006020828403121561240d57600080fd5b813567ffffffffffffffff81111561242457600080fd5b61243084828501612387565b949350505050565b600060c0828403121561244a57600080fd5b611f0b8383612231565b60008060006060848603121561246957600080fd5b833567ffffffffffffffff8082111561248157600080fd5b61248d87838801612387565b945060209150818601356124a081612073565b93506040860135818111156124b457600080fd5b86019050601f810187136124c757600080fd5b80356124d56123a882612363565b81815260059190911b820183019083810190898311156124f457600080fd5b928401925b82841015612512578335825292840192908401906124f9565b80955050505050509250925092565b6000806000806060858703121561253757600080fd5b8435935060208501359250604085013567ffffffffffffffff8082111561255d57600080fd5b818701915087601f83011261257157600080fd5b81358181111561258057600080fd5b88602082850101111561259257600080fd5b95989497505060200194505050565b6020808252600290820152616f6f60f01b604082015260600190565b60208082526003908201526239373b60e91b604082015260600190565b6020808252600290820152617a6f60f01b604082015260600190565b80516001600160701b038116811461169057600080fd5b60008060006060848603121561262257600080fd5b61262b846125f6565b9250612639602085016125f6565b9150604084015163ffffffff811681146122d057600080fd5b634e487b7160e01b600052601160045260246000fd5b600081600019048311821515161561268257612682612652565b500290565b6000821982111561269a5761269a612652565b500190565b6000826126bc57634e487b7160e01b600052601260045260246000fd5b500490565b60005b838110156126dc5781810151838201526020016126c4565b838111156114305750506000910152565b600081518084526127058160208601602086016126c1565b601f01601f19169290920160200192915050565b84815283602082015260018060a01b038316604082015260806060820152600061274660808301846126ed565b9695505050505050565b60006020828403121561276257600080fd5b5051919050565b6000825161277b8184602087016126c1565b9190910192915050565b60006020828403121561279757600080fd5b8135611f0b816120a5565b6001600160a01b0386811682528515156020830152604082018590528316606082015260a06080820181905260009061202f908301846126ed565b6000602082840312156127ef57600080fd5b8151611f0b81612073565b60008282101561280c5761280c612652565b500390565b634e487b7160e01b600052603260045260246000fd5b600060001982141561283b5761283b612652565b5060010190565b60006020828403121561285457600080fd5b8151611f0b816120a5565b602081526000611f0b60208301846126ed56fea2646970667358221220be3f49e1ba0568255a156944fd1188198ed0019a066f12b840d75a2dcce3300d64736f6c63430008090033